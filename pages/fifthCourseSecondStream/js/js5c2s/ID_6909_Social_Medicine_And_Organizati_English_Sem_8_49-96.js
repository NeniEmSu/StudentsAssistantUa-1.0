(function () {
    var myQuestions = [
        {
            question: "49.	The main source of information about the size and structure of population is:",

            answers: {
                a: " 	 Annual medical examination",
                b: " 	 Population census",
                c: " 	 Birth certificate and death certificate",
                d: " 	 Statistical reports of the district",
                e: " 	 Birth and death references"
            },
            correctAnswer: "b"
    },
        {
            question: "50.	How often is population census conducted?",
            answers: {
                a: " 	 Once in 10 years",
                b: " 	 Once in 5 years",
                c: " 	 Once in 3 years",
                d: " 	 Once in 15 years",
                e: " 	 There is no exact date"
            },
            correctAnswer: "a"
    },
        {
            question: "51.	Demographical statistics studies:",
            answers: {
                a: " 	 Population size and structure",
                b: " 	 Migration of population",
                c: " 	 Natural population movement",
                d: " 	 Reproduction of population",
                e: " 	 Population census"
            },
            correctAnswer: "a"
    },
        {
            question: "52.	What is progressive type of population age structure?",
            answers: {
                a: " 	 Share of children of 0-14 years equals share of people over 50",
                b: " 	 Share of people over 50 exceeds share of children of 0-14 years",
                c: " 	 Share of children of 0-14 years exceeds share of people over 50",
                d: " 	 Share of people over 60 makes 16,8%",
                e: " 	 'Demographic load' per 1000 people of working age makes 768 people"
            },
            correctAnswer: "c"
    },

        {
            question: "53.	What is regressive type of population age structure?",
            answers: {
                a: " 	 Share of children of 0-14 years exceeds share of people over 50",
                b: " 	 Share of people over 50 exceeds share of children of 0-14 years",
                c: " 	 Share of children of 0-14 years equals share of people over 50",
                d: " 	 Share of people over 60 makes 16,8%",
                e: " 	 'Demographic load' per 1000 people of productive age makes 768 people"
            },
            correctAnswer: "b"
    },
        {
            question: "54.	What is stationary type of population age structure?",


            answers: {
                a: " 	 Share of people over 60 makes 16.8 %",
                b: " 	 Share of people over 50 exceeds share of children of 0-14 years",
                c: " 	 Share of children of 0-14 years exceeds share of people over 50",
                d: " 	 Share of children of 0-14 years equals share of people over 50",
                e: " 	 'Demographic load' per 1000 people of productive age makes 768 people"
            },
            correctAnswer: "d"
    },
        {
            question: "55.	Define the 'demographic load' index",

            answers: {
                a: " 	 Ratio of number of children and people of pension age necessary per 1000 people of working age",
                b: " 	 Ratio of number of children and people of pension age necessary per 1000 people",
                c: " 	 Ratio of number of children which is necessary on 1000 adults",
                d: " 	 Ratio of number of children which is necessary per 1000 people of working age",
                e: " 	 Ratio of number of people over 60 necessary per 1000 people"
            },
            correctAnswer: "a"
    },
        {
            question: "56.	What is gross-index of reproduction?",
            answers: {
                a: " 	 Birth rate – death rate",
                b: " 	 Number of children born by women during fertility period (15-49)",
                c: " 	 Number of people living in the country in the given year",
                d: " 	 Number of girls born by women aged 15-49 who reached the fertility age",
                e: " 	 Number of girls born by women aged 15-49"
            },
            correctAnswer: "e"
    },
        {
            question: "57.	What is net-index of reproduction?",
            answers: {
                a: " 	 Number of children born by women during fertility period (15-49)",
                b: " 	 Number of girls born by women aged 15-49 who will reach fertility age",
                c: " 	 Number of girls born by women aged 15-49",
                d: " 	 Number of people living in the country in the given year",
                e: " 	 Birth rate – death rate"
            },
            correctAnswer: "b"
    },

        {
            question: "58.	What period is called neonatal?",
            answers: {
                a: " 	 1-10 days",
                b: " 	 1-7 days",
                c: " 	 2 days-1 year",
                d: " 	 1 year-2 years",
                e: " 	 1 year-1.5 years"
            },
            correctAnswer: "a"
    },
        {
            question: "59.	What period is called infant?",
            answers: {
                a: " 	 1-2 years",
                b: " 	 0-10 days",
                c: " 	 0-7 days",
                d: " 	 10 days-1 year",
                e: " 	 1-1.5 year"
            },
            correctAnswer: "d"
    },
        {
            question: "60.	Demographic dynamics studies:",
            answers: {
                a: " 	 Population movement by country’s geographical zones",
                b: " 	 Population census",
                c: " 	 Population number and structure",
                d: " 	 Mechanical and natural movement of population",
                e: " 	 Overpopulation and urbanization"
            },
            correctAnswer: "d"
    },

        {
            question: "61.	Population movement is split into:",

            answers: {
                a: " 	 Migration and population structure",
                b: " 	 Mechanical and migratory",
                c: " 	 Natural movement and population reproduction",
                d: " 	 Migration and urbanization",
                e: " 	 Mechanical and natural movement"
            },
            correctAnswer: "e"
    },
        {
            question: "62.	What is emigration?",
            answers: {
                a: " 	 Movement of population to other country",
                b: " 	 Movement of population from other country",
                c: " 	 Compulsory movement of population within a country",
                d: " 	 Population moving for short time for rest or work during summer and autumn",
                e: " 	 Daily movement from village to city for work or study and to the permanent place of residence in the evening"
            },
            correctAnswer: "a"
    },
        {
            question: "63.	What is immigration?",
            answers: {
                a: " 	 Movement of population from other country",
                b: " 	 Movement of population to other country",
                c: " 	 Compulsory movement of population within the country",
                d: " 	 Population moving for short time due to rest or work during summer and autumn",
                e: " 	 Daily movement from village to city for work or study and to the permanent place of residence in the evening"
            },
            correctAnswer: "a"
    },
        {
            question: "64.	What indices characterize natural movement of population?",
            answers: {
                a: " 	 Age death rate, invalidism, natural increase, migratory processes",
                b: " 	 Emigration, immigration, seasonal and pendulum migration",
                c: " 	 Birth rate, death rate, natural increase, life expectancy",
                d: " 	 Birth rate, death rate, migratory processes, natural increase",
                e: " 	 Natural increase, life expectancy, migratory processes"
            },
            correctAnswer: "c"
    },
        {
            question: "65.	In town A, birth rate is 14.5 ‰. Evaluate this level according to the WHO.",
            answers: {
                a: " 	 Limited",
                b: " 	 Medium",
                c: " 	 High",
                d: " 	 Critical",
                e: " 	 Low"
            },
            correctAnswer: "e"
    },
        {
            question: "66.	In town B, birth rate is 16 ‰. Evaluate this level according to the WHO.",
            answers: {
                a: " 	 Medium",
                b: " 	 Low",
                c: " 	 High",
                d: " 	 Critical",
                e: " 	 Limited"
            },
            correctAnswer: "a"
    },
        {
            question: "67.	In town F, birth rate is 26.1 ‰. Evaluate this level according to the WHO.",
            answers: {
                a: " 	 Medium",
                b: " 	 High",
                c: " 	 Low",
                d: " 	 Critical",
                e: " 	 Limited"
            },
            correctAnswer: "b"
    },
        {
            question: "68.	In town A, general death rate is 14.8 ‰. Evaluate this level according to the WHO.",
            answers: {
                a: " 	 Critical",
                b: " 	 Low",
                c: " 	 High",
                d: " 	 Medium",
                e: " 	 Limited"
            },
            correctAnswer: "d"
    },

        {
            question: "69.	In town A, neonatal death rate is 14.2 ‰. Evaluate this level according to the WHO.",
            answers: {
                a: " 	 Medium",
                b: " 	 Low",
                c: " 	 High",
                d: " 	 Critical",
                e: " 	 Limited"
            },
            correctAnswer: "b"
    },
        {
            question: "70.	In town A, neonatal death rate is 16.9 ‰. Evaluate this level according to the WHO.",
            answers: {
                a: " 	 Low",
                b: " 	 Medium",
                c: " 	 High",
                d: " 	 Critical",
                e: " 	 Limited"
            },
            correctAnswer: "a"
    },
        {
            question: "71.	Which value corresponds to the low birth rate according to WHO?",
            answers: {
                a: " 	 Less than 25 ‰",
                b: " 	 Less than 9 ‰",
                c: " 	 Less than 20 ‰",
                d: " 	 Less than 15 ‰",
                e: " 	 Less than 50 ‰"
            },
            correctAnswer: "d"
    },

        {
            question: "72.	Which value corresponds to the high birth rate according to WHO?",
            answers: {
                a: " 	 Over 15 ‰",
                b: " 	 Over 25 ‰",
                c: " 	 Over 20 ‰",
                d: " 	 Over 9 ‰",
                e: " 	 Over 50 ‰"
            },
            correctAnswer: "b"
    },

        {
            question: "73.	What are the measures of average general death rate level according to WHO?",

            answers: {
                a: " 	 20 – 50 ‰",
                b: " 	 15 -20 ‰",
                c: " 	 15 – 25 ‰",
                d: " 	 9 – 15 ‰",
                e: " 	 30 – 60 ‰"
            },
            correctAnswer: "d"
    },
        {
            question: "74.	Which value corresponds to the high level of general death rate?",
            answers: {
                a: " 	 Over 15 ‰",
                b: " 	 Over 5 ‰",
                c: " 	 Over 20 ‰",
                d: " 	 Over 25 ‰",
                e: " 	 Over 50 ‰"
            },
            correctAnswer: "a"
    },
        {
            question: "75.	Which demographic index can be considered one of the most sensitive indicators of level of social and economic development of a society?",
            answers: {
                a: "	   Traumatism",
                b: " 	 Morbidity",
                c: " 	 Birth rate",
                d: " 	 Death rate in babies",
                e: " 	 General death rate"
            },
            correctAnswer: "d"
    },
        {
            question: "76.	What term is included in the 'maternal death rate' concept?",
            answers: {
                a: " 	 Period of pregnancy and 42 days after it",
                b: " 	 From 28 weeks of pregnancy and within 3 days after it",
                c: " 	 From 22 weeks of pregnancy and within 3 days after it",
                d: " 	 Period of pregnancy and 3 days after it",
                e: " 	 Period of pregnancy and birth"
            },
            correctAnswer: "a"
    },
        {
            question: "77.	What characterizes natural movement of population?",
            answers: {
                a: " 	 Emigration and immigration processes of population",
                b: " 	 Population moving for country limits due to economic causes",
                c: " 	 Current levels of birth rate and death rate providing for life expectancy",
                d: " 	 Negative increase in population",
                e: " 	 Current levels of birth rate and death rate providing for increase in population"
            },
            correctAnswer: "e"
    },
        {
            question: "78.	What is life expectancy?",
            answers: {
                a: " 	 Average number of years to be lived by the new generation, under condition of immutable political and the country economic situation",
                b: " 	 Average number of years to be lived by the generation on condition that birth rate does not decrease",
                c: " 	 Average number of years to be lived by the new generation, under condition of the positive natural increase",
                d: " 	 Average number of years to be lived by the new generation provided that death rate will not change",
                e: " 	 Average number of years to be lived by the new generation, under condition of the stationary natural increase"
            },
            correctAnswer: "d"
    },
        {
            question: "79.	State the parts of the perinatal period:",
            answers: {
                a: " 	 Antenatal, intranatal, neonatal",

                b: " 	 Antenatal, intranatal, early neonatal",

                c: " 	 Antenatal, intranatal, mortinatality",

                d: " 	 Antenatal, mortinatality, neonatal",

                e: " 	 Antenatal, neonatal, postneonatal"
            },
            correctAnswer: "b"
    },

        {
            question: "80.	Modern population grows due to population of large, medium, small, resort cities and settlements of city type. What types of cities determine overwhelming growth of population?",
            answers: {
                a: " 	 Small cities",
                b: " 	 Medium cities",
                c: " 	 Settlements of city type",
                d: " 	 Resort cities",
                e: " 	 Cities"
            },
            correctAnswer: "e"
    },
        {
            question: "81.	The death rate of children of the first year of life has strong dependence on monthly age of child. It is especially relevant for 1, 2, 3, 11 and 12 months. Which of the listed months of the first year of life has the maximum level of children death rate?",
            answers: {
                a: "    3rd month",
                b: " 	 2nd month",
                c: " 	 11th month",
                d: " 	 1st month",
                e: " 	 12th month"
            },
            correctAnswer: "d"
    },
        {
            question: "82.	The following periods of death rate are included in the structure of child and perinatal death rate: antenatal, intranatal, early neonatal, late neonatal, postnatal postneonatal. Which of the listed periods of death rate are included in mortinatality?",
            answers: {
                a: " 	 Only antenatal, intranatal and postnatal",
                b: " 	 All of the listed periods",
                c: " 	 Only early and late neonatal",
                d: " 	 Only late neonatal and postneonatal",
                e: " 	 Only antenatal and intranatal"
            },
            correctAnswer: "a"
    },
        {
            question: "83.	Birth-rate is 12 persons per 1000 people in town A. What is the level of child birth-rate on the estimations scale in this town?",
            answers: {
                a: " 	 High",
                b: " 	 Low",
                c: " 	 Above average",
                d: " 	 Medium",
                e: " 	 Below average"
            },
            correctAnswer: "b"
    },
        {
            question: "84.	In which index is the antenatal period used?",
            answers: {
                a: " 	 Mortinatality",
                b: " 	 Neonatal death",
                c: " 	 Early neonatal death",
                d: " 	 Children death rate",
                e: " 	 Infant death rate"
            },
            correctAnswer: "a"
    },
        {
            question: "85.	In which index is the antenatal period used?",
            answers: {
                a: "	   Children death rate",
                b: " 	 Neonatal death",
                c: " 	 Early neonatal death",
                d: "   Perinatal death",
                e: " 	 Infant death rate"
            },
            correctAnswer: "d"
    },
        {
            question: "86.	In which index is the intranatal period used?",
            answers: {
                a: " 	 Perinatal death",
                b: " 	 Neonatal death",
                c: " 	 Early neonatal death",
                d: " 	 Children death rate",
                e: " 	 Infant death rate"
            },
            correctAnswer: "a"
    },
        {
            question: "87.	In which index is the early neonatal period used?",
            answers: {
                a: " 	 Mortinatality",
                b: " 	 Perinatal death",
                c: " 	 General death rate",
                d: " 	 Children death rate",
                e: " 	 Birth rate"
            },
            correctAnswer: "b"
    },
        {
            question: "88.	How long does the antenatal period last?",
            answers: {
                a: " 	 Delivery – 28 days of life",
                b: " 	 28 week of pregnancy – delivery",
                c: " 	 Delivery",
                d: " 	 Delivery – 7 days of life",
                e: " 	 22 week of pregnancy – delivery"
            },
            correctAnswer: "e"
    },
        {
            question: "89.	How long does the intranatal period last?",
            answers: {
                a: " 	 Delivery",
                b: " 	 22 week of pregnancy – delivery",
                c: " 	 28 week of pregnancy – delivery",
                d: " 	 Delivery – 7 days of life",
                e: " 	 Delivery – 28 days of life"
            },
            correctAnswer: "a"
    },
        {
            question: "90.	How long does the early neonatal period last?",
            answers: {
                a: " 	 22 week of pregnancy – delivery",
                b: " 	 Delivery",
                c: " 	 Delivery – 7 days of life",
                d: " 	 28 week of pregnancy – delivery",
                e: " 	 Delivery – 28 days of life"
            },
            correctAnswer: "c"
    },
        {
            question: "91.	How long does the late neonatal period last?",
            answers: {
                a: " 	 7 days of life – 28 days",
                b: " 	 Delivery – 7 days of life",
                c: " 	 22 week of pregnancy – delivery",
                d: " 	 28 week of pregnancy – delivery",
                e: " 	 Delivery – 28 days of life"
            },
            correctAnswer: "a"
    },
        {
            question: "92.	How long does neonatal period last?",
            answers: {
                a: " 	 28 week of pregnancy – delivery",
                b: " 	 Delivery – 7 days of life",
                c: " 	 22 week of pregnancy – delivery",
                d: " 	 Delivery – 28 days of life",
                e: " 	 From the moment of birth to 30 days"
            },
            correctAnswer: "d"
    },
        {
            question: "93.	How long does postneonatal period last?",
            answers: {
                a: " 	 From the moment of birth to 30 days",
                b: " 	 From the moment of birth to 7 days",
                c: " 	 7 days – 1 month",
                d: " 	 28 days – 6 month",
                e: " 	 29 days – 12 months"
            },
            correctAnswer: "e"
    },
        {
            question: "94.	Which of the below indexes are not the components of population durability index?",
            answers: {
                a: " 	 Infant death rate",
                b: " 	 Average life length expectance",
                c: " 	 Morbidity",
                d: " 	 Quality of food",
                e: " 	 On-budget expenditures on social, medical and social programs"
            },
            correctAnswer: "c"
    },
        {
            question: "95.	In current year, at outpatient department, 1450 diseases were registered per 1000 people, including 650 cases where diagnosis was established. On the basis of what official document are these indices calculated?",
            answers: {
                a: " 	 Statistical card for registration of the final (detailed) diagnosis",
                b: " 	 Outpatient card",
                c: " 	 Registration of patients",
                d: " 	 Incapacity certificate",
                e: " 	 Doctor’s diary"
            },
            correctAnswer: "b"
    },
        {
            question: "96.	In the current year, at CDH, hospitalized morbidity made 200 cases per 1000 people. On the basis of what official document is this index calculated?",
            answers: {
                a: " 	 Case history",
                b: " 	 Statistical card for registration of the final (detailed) diagnosis",
                c: " 	 Statistical card of the discharged from the inpatient department",
                d: " 	 Incapacity certificate",
                e: " 	 Registration of patients"
            },
            correctAnswer: "c"
    }
  ];

    function buildQuiz() {
        // we'll need a place to store the HTML output
        var output = [];

        // for each question...
        myQuestions.forEach((currentQuestion, questionNumber) => {
            // we'll want to store the list of answer choices
            var answers = [];

            // and for each available answer...
            for (letter in currentQuestion.answers) {
                // ...add an HTML radio button
                answers.push(
                    `<label>
             <input type="radio" name="question${questionNumber}" value="${letter}">
              ${letter} :
              ${currentQuestion.answers[letter]}
           </label>`
                );
            }

            // add this question and its answers to the output
            output.push(
                `<div class="slide">
           <div class="question"> ${currentQuestion.question} </div>
           <div class="answers"> ${answers.join("")} </div>
         </div>`
            );
        });

        // finally combine our output list into one string of HTML and put it on the page
        quizContainer.innerHTML = output.join("");
    }

    function showResults() {
        // gather answer containers from our quiz
        var answerContainers = quizContainer.querySelectorAll(".answers");

        // keep track of user's answers
        let numCorrect = 0;

        // for each question...
        myQuestions.forEach((currentQuestion, questionNumber) => {
            // find selected answer
            var answerContainer = answerContainers[questionNumber];
            var selector = `input[name=question${questionNumber}]:checked`;
            var userAnswer = (answerContainer.querySelector(selector) || {}).value;

            // if answer is correct
            if (userAnswer === currentQuestion.correctAnswer) {
                // add to the number of correct answers
                numCorrect++;

                // color the answers green
                answerContainers[questionNumber].style.color = "#00B000";
            } else {
                // if answer is wrong or blank
                // color the answers red
                answerContainers[questionNumber].style.color = "red";
            }
        });

      // show number of correct answers out of total
        resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
    }

    function checkAnswer () {

      // get active slide
      var activeSlides = document.getElementsByClassName('active-slide')[0];

      // active question
      var question = activeSlides.childNodes[1].innerText;

      // active options
      var answers = activeSlides.childNodes[3].childNodes;

      // active slide inputs
      var inputName;

      // selected answer
      var option;

      // correct answer to the question
      var correctAnswer;


      // loop through options
      for (var i = 0; i < answers.length-1; i++) {

        if (answers[i].nodeName != '#text') {

          // get checked option
          if (answers[i].firstElementChild.checked) {

            option = answers[i].firstElementChild.value;
            inputName = answers[i].firstElementChild.name;

          } else {

            // get input name
            inputName = answers[i].firstElementChild.name;

          }

        }

      }


      // check if answer is right
      for (var i = 0; i < myQuestions.length; i++) {

        if (question == myQuestions[i].question) {
          if (option == myQuestions[i].correctAnswer) {

            correctAnswer = myQuestions[i].answers[option];

            for (var i = 0; i < answers.length-1; i++) {

                if (answers[i].nodeName != '#text') {

                  answers[i].style.color = 'red';

                    if (option === answers[i].firstElementChild.value) {

                      answers[i].style.color = 'green';

                    }

                }

            }

          } else {

            for (var i = 0; i < myQuestions.length; i++) {

              if (question == myQuestions[i].question) {

                for (var j = 0; j < answers.length-1; j++) {

                  if (answers[j].nodeName != '#text') {

                    answers[j].style.color = 'red';

                    if (myQuestions[i].correctAnswer === answers[j].firstElementChild.value) {

                      answers[j].style.color = 'green';

                    }

                  }

                }

              }

            }

          }

        }

      }

    }


    function showSlide(n) {
        slides[currentSlide].classList.remove("active-slide");
        slides[n].classList.add("active-slide");
        currentSlide = n;

        if (currentSlide === 0) {
            previousButton.style.display = "none";
        } else {
            previousButton.style.display = "inline-block";
        }

        if (currentSlide === slides.length - 1) {
            nextButton.style.display = "none";
            submitButton.style.display = "inline-block";
        } else {
            nextButton.style.display = "inline-block";
            submitButton.style.display = "none";
        }
    }


    function showNextSlide() {
        showSlide(currentSlide + 1);
    }

    function showPreviousSlide() {
        showSlide(currentSlide - 1);
    }

    var quizContainer = document.getElementById("quiz");
    var resultsContainer = document.getElementById("results");
    var submitButton = document.getElementById("submit");

    // display quiz right away
    buildQuiz();

    var previousButton = document.getElementById("previous");
    var nextButton = document.getElementById("next");
    var slides = document.querySelectorAll(".slide");
    var checkButton = document.getElementById("check");
    let currentSlide = 0;

    showSlide(0);

    // on submit, show results
    checkButton.addEventListener("click", checkAnswer);
    submitButton.addEventListener("click", showResults);
    previousButton.addEventListener("click", showPreviousSlide);
    nextButton.addEventListener("click", showNextSlide);
})();
